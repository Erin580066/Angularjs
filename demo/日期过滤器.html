<!DOCTYPE html>
<html >
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="../js/angular.min.js"></script>
	</head>
	<body ng-app="myApp">
		<div ng-controller="myCtrl" id="pageAll">
			<h1>{{date | date : 'yyyy-MM-dd HH:mm:ss'}}</h1>
		</div>
		<script>
			var app = angular.module('myApp',[]);
			app.controller('myCtrl',['$scope',function($scope){
				$scope.date = new Date();
			}]);
			var date = new Date();
			
			var template = '日期 : yyyy,M-d';
			var result = template.replace(/(y{1,4})[^yMd]*(M{1,2})[^yMd]*(d{1,2})/g,function(match,$1,$2,$3){
//				console.log($1,$2,$3,match);
				var m = date.getMonth() + 1;
				var d = date.getDate();
				return match.replace($1,date.getFullYear().toString().silce(4 - $1.length))
				.replace($2,$2.length === 1 ? m :(
					m.toString().length === 1 ? '0'+ m : m;
				))
				.replace($2,$2.length === 1 ?d :(
					m.toString().length === 1 ? '0'+ d : d;
				))
				;
			})
			console.log(result);
		</script>
	</body>
</html>
